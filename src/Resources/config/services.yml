# config/services.yaml
parameters:
  env(SECURED): "%secured%"
  con4gis.oauth.oidc.client_id: "###"
  con4gis.oauth.oidc.client_secret: "###"
  con4gis.oauth.oidc.auth_server_url: "###"
  con4gis.oauth.oidc.realm: "###"
  con4gis.oauth.oidc.secured_frontend: "false"
  secured: "false"

services:
  _defaults:
    public: true
  _instanceof:
    Contao\CoreBundle\Framework\FrameworkAwareInterface:
      calls:
        - [ "setFramework", [ "@contao.framework" ] ]
    Symfony\Component\DependencyInjection\ContainerAwareInterface:
      calls:
        - [ "setContainer", [ "@service_container" ] ]
  oidc_authenticator:
    class: con4gis\OAuthBundle\Security\OidcAuthenticator
    arguments: ["@contao.framework", "@knpu.oauth2.registry"]
    autowire: true