# config/services.yaml
parameters:
  env(SECURED): "%secured%"
  oauth_oidc_client_id: "###"
  oauth_oidc_client_secret: "###"
  oauth_oidc_auth_server_url: "###"
  oauth_oidc_realm: "###"
  secured_frontend: "IS_AUTHENTICATED_ANONYMOUSLY"
  secured: "false"

services:
  _defaults:
    public: true
  _instanceof:
    Contao\CoreBundle\Framework\FrameworkAwareInterface:
      calls:
        - [ "setFramework", [ "@contao.framework" ] ]
    Symfony\Component\DependencyInjection\ContainerAwareInterface:
      calls:
        - [ "setContainer", [ "@service_container" ] ]
  oidc_authenticator:
    class: con4gis\OAuthBundle\Security\OidcAuthenticator
    arguments: ["@contao.framework", "@knpu.oauth2.registry"]
    autowire: true